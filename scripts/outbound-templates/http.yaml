# HTTP/HTTPS 代理出站配置模板
# 适用于特定域名代理需求

listen: :443

# TLS 证书配置
tls:
  cert: /etc/hysteria/cert.crt
  key: /etc/hysteria/cert.key

# 认证配置
auth:
  type: password
  password: your_password_here

# 带宽配置
bandwidth:
  up: 100 mbps
  down: 100 mbps

# 出站规则配置
outbounds:
  - name: direct_out
    type: direct
    direct:
      mode: auto
  - name: http_out
    type: http
    http:
      url: "http://username:password@proxy.example.com:8080"
      # 或 HTTPS: "https://username:password@proxy.example.com:8080"
      insecure: false  # 是否跳过 TLS 验证

# ACL 规则 - 特定域名走代理
acl: |
  # 特定网站走 HTTP 代理
  http_out(suffix:google.com)
  http_out(suffix:youtube.com)
  http_out(suffix:facebook.com)
  http_out(suffix:twitter.com)
  http_out(geosite:google)
  http_out(geosite:youtube)

  # 阻止某些网站
  reject(geosite:ads)
  reject(suffix:doubleclick.net)

  # 其他所有连接直连
  direct_out(all)

# 混淆配置（可选）
obfs:
  type: salamander
  salamander:
    password: your_obfs_password

# 忽略客户端带宽
ignoreClientBandwidth: false

# 禁用 UDP（HTTP 代理不支持 UDP）
disableUDP: true

# UDP 会话超时
udpIdleTimeout: 60s

# 流量统计 API（可选）
trafficStats:
  listen: 127.0.0.1:8080